{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Livro } from '../livro';\nlet LivroDadosComponent = class LivroDadosComponent {\n  constructor(servEditora, servLivros, router) {\n    this.servEditora = servEditora;\n    this.servLivros = servLivros;\n    this.router = router;\n    this.autoresForm = '';\n    this.editoraSelecionada = null;\n    this.editoras = [];\n    this.livro = new Livro(0, 0, '', '', []);\n  }\n  ngOnInit() {\n    this.editoras = this.servEditora.getEditoras();\n  }\n  incluir() {\n    const novoCodigo = this.servLivros.obterProximoCodigo();\n    const editoraSelecionada = this.editoraSelecionada ? this.editoraSelecionada.codEditora : 0;\n    const nomeEditora = this.editoraSelecionada ? this.editoraSelecionada.nome : '';\n    const novoLivro = new Livro(novoCodigo, editoraSelecionada, this.livro.titulo, this.livro.resumo, this.autoresForm.split('\\n').filter(autor => autor.trim() !== ''));\n    this.servLivros.incluir(novoLivro);\n    this.router.navigateByUrl('/lista');\n  }\n};\nLivroDadosComponent = __decorate([Component({\n  selector: 'app-livro-dados',\n  templateUrl: './livro-dados.component.html',\n  styleUrls: ['./livro-dados.component.css']\n})], LivroDadosComponent);\nexport { LivroDadosComponent };","map":{"version":3,"names":["Component","Livro","LivroDadosComponent","constructor","servEditora","servLivros","router","autoresForm","editoraSelecionada","editoras","livro","ngOnInit","getEditoras","incluir","novoCodigo","obterProximoCodigo","codEditora","nomeEditora","nome","novoLivro","titulo","resumo","split","filter","autor","trim","navigateByUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Tania Ribeiro\\OneDrive\\√Årea de Trabalho\\Aula-3\\MissaoPratica-Nivel4\\teste-testoso\\livros-angular\\src\\app\\livro-dados\\livro-dados.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {Livro} from '../livro';\r\nimport {Editora} from '../editora';\r\nimport {ControleEditoraService} from '../controle-editora.service';\r\nimport {ControleLivrosService} from '../controle-livros.service';\r\n\r\n@Component({\r\n  selector: 'app-livro-dados',\r\n  templateUrl: './livro-dados.component.html',\r\n  styleUrls: ['./livro-dados.component.css']\r\n})\r\nexport class LivroDadosComponent implements OnInit {\r\n  livro: Livro;\r\n  autoresForm: string = '';\r\n  editoraSelecionada: Editora | null = null;\r\n  editoras: Array<Editora> = [];\r\n\r\n  constructor(\r\n    private servEditora: ControleEditoraService,\r\n    private servLivros: ControleLivrosService,\r\n    private router: Router\r\n  ) {\r\n    this.livro = new Livro(0, 0, '', '', []);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.editoras = this.servEditora.getEditoras();\r\n  }\r\n\r\n  incluir() {\r\n    const novoCodigo = this.servLivros.obterProximoCodigo();\r\n    const editoraSelecionada = this.editoraSelecionada ? this.editoraSelecionada.codEditora : 0;\r\n    const nomeEditora = this.editoraSelecionada ? this.editoraSelecionada.nome : '';\r\n    \r\n    const novoLivro = new Livro(\r\n      novoCodigo,\r\n      editoraSelecionada,\r\n      this.livro.titulo,\r\n      this.livro.resumo,\r\n      this.autoresForm.split('\\n').filter((autor) => autor.trim() !== '')\r\n    );\r\n    \r\n    this.servLivros.incluir(novoLivro);\r\n    this.router.navigateByUrl('/lista');\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAE/C,SAAQC,KAAK,QAAO,UAAU;AAU9B,IAAaC,mBAAmB,GAAhC,MAAaA,mBAAmB;EAM9BC,YACUC,WAAmC,EACnCC,UAAiC,EACjCC,MAAc;IAFd,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,UAAU,GAAVA,UAAU;IACV,KAAAC,MAAM,GAANA,MAAM;IAPhB,KAAAC,WAAW,GAAW,EAAE;IACxB,KAAAC,kBAAkB,GAAmB,IAAI;IACzC,KAAAC,QAAQ,GAAmB,EAAE;IAO3B,IAAI,CAACC,KAAK,GAAG,IAAIT,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;EAC1C;EAEAU,QAAQA,CAAA;IACN,IAAI,CAACF,QAAQ,GAAG,IAAI,CAACL,WAAW,CAACQ,WAAW,EAAE;EAChD;EAEAC,OAAOA,CAAA;IACL,MAAMC,UAAU,GAAG,IAAI,CAACT,UAAU,CAACU,kBAAkB,EAAE;IACvD,MAAMP,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACQ,UAAU,GAAG,CAAC;IAC3F,MAAMC,WAAW,GAAG,IAAI,CAACT,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACU,IAAI,GAAG,EAAE;IAE/E,MAAMC,SAAS,GAAG,IAAIlB,KAAK,CACzBa,UAAU,EACVN,kBAAkB,EAClB,IAAI,CAACE,KAAK,CAACU,MAAM,EACjB,IAAI,CAACV,KAAK,CAACW,MAAM,EACjB,IAAI,CAACd,WAAW,CAACe,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,EAAE,KAAK,EAAE,CAAC,CACpE;IAED,IAAI,CAACpB,UAAU,CAACQ,OAAO,CAACM,SAAS,CAAC;IAClC,IAAI,CAACb,MAAM,CAACoB,aAAa,CAAC,QAAQ,CAAC;EACrC;CACD;AAlCYxB,mBAAmB,GAAAyB,UAAA,EAL/B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACW5B,mBAAmB,CAkC/B;SAlCYA,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}